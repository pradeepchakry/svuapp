[{"/home/discovery/Documents/onlineapp/svuapp/frontend/src/App.js":"1","/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Home.js":"2","/home/discovery/Documents/onlineapp/svuapp/frontend/src/index.js":"3","/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Table.js":"4","/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Login.js":"5","/home/discovery/Documents/onlineapp/svuapp/frontend/src/reportWebVitals.js":"6","/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/history.js":"7"},{"size":677,"mtime":1609647162403,"results":"8","hashOfConfig":"9"},{"size":4930,"mtime":1609647011169,"results":"10","hashOfConfig":"9"},{"size":500,"mtime":1609171927363,"results":"11","hashOfConfig":"9"},{"size":3752,"mtime":1609171927363,"results":"12","hashOfConfig":"9"},{"size":7955,"mtime":1609673510797,"results":"13","hashOfConfig":"9"},{"size":362,"mtime":1609171927363,"results":"14","hashOfConfig":"9"},{"size":88,"mtime":1609647301347,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},"lldrkd",{"filePath":"20","messages":"21","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"/home/discovery/Documents/onlineapp/svuapp/frontend/src/App.js",["38","39","40","41","42","43"],"import React, { Component } from \"react\";\nimport logo from './logo.svg';\nimport './App.css';\nimport { render } from '@testing-library/react';\nimport { Router, Route, Link } from 'react-router-dom';\nimport history from './components/history';\nimport Table from \"./components/Table\"\nimport Home from \"./components/Home\"\nimport Login from \"./components/Login\"\nimport {withRouter} from 'react-router';\n\nclass App extends React.Component {\n  \n  render() {\n    return (\n      <Router history={history}>\n        <Route name=\"Login\" path=\"/\" exact component={Login} />\n        <Route name=\"Home\" path=\"/home\" exact component={Home} />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n",["44","45"],"/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Home.js",["46","47","48","49","50","51","52","53","54","55","56","57","58"],"import React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction Copyright() {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright © '}\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\n          SVUDDE\n        </Link>{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }\n  \n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\nexport default function Home() {\n\n  const history = useHistory();\n\n  \n  const classes = useStyles();\n  const [firstLoad, setLoad] = React.useState(true);\n  const [name, setName] = React.useState(true);\n  const [gender, setGender] = React.useState(true);\n  const [enrolNo, setEnrolNo] = React.useState(true);\n\n\n  const[message, setMessage] = React.useState(\"Nothing saved in the session\");\n\n  const handleNameChange = event => setName(event.target.value);\n  const handleGenderChange = event => setGender(event.target.value);\n  const handleEnrolNo = event => setEnrolNo(event.target.value);\n\n//   const routeChange = () =>{ \n//     let path = `/view`; \n//     history.push(path);\n//   }\n\n  async function saveApplication(toInput) {\n    const response = await fetch(\"/svudde/saveForm\", {\n      method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n      mode: \"cors\", // no-cors, *cors, same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"same-origin\", // include, *same-origin, omit\n      headers: {\n        \"Content-Type\": \"application/json\"\n        // 'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrerPolicy: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(toInput) // body data type must match \"Content-Type\" header\n    }).then(response => {\n      if(!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      } else {\n        console.log(\"Status: OK in Home\");\n        let responseText = document.createElement(response);\n        console.log(\"Response \" + JSON.stringify(response))\n        document.body.appendChild(responseText);\n      }\n    })\n    .catch(e => {\n      console.log('There has been a problem with the fetch operation: ' + e.message)\n    })\n  }\n\n  const handleFormSubmit = variables => {\n    const toInput = {name, gender, \"enrolmentNo\": \"bacasdfas\"};\n    saveApplication(toInput);\n    setName(\"\");\n    setGender(\"\");\n  };\n\n  if (firstLoad) {\n    // sampleFunc();\n    setLoad(false);\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h5\">\n          Fill the Online Application Form\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name\"\n            label=\"Name\"\n            name=\"name\"\n            autoComplete=\"name\"\n            onChange={handleNameChange}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"gender\"\n            label=\"Gender\"\n            name=\"gender\"\n            autoComplete=\"gender\"\n            onChange={handleGenderChange}\n            autoFocus\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={handleFormSubmit}\n          >\n            Save\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\n",["59","60"],"/home/discovery/Documents/onlineapp/svuapp/frontend/src/index.js",[],["61","62"],"/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Table.js",[],"/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/Login.js",["63","64","65","66","67","68","69","70","71","72","73","74"],"import React, { useState } from \"react\";\nimport Popup from 'reactjs-popup';\n\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { Redirect } from \"react-router-dom\";\nimport history from './history';\nimport 'react-phone-number-input/style.css'\nimport PhoneInput2 from 'react-phone-number-input';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PhoneInput from 'react-phone-number-input/input';\n// import Prompt from './Prompt';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Copyright = () => {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        SVUDDE\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst routeChange = () => { \n  // let path = `/home`; \n  history.push(\"/home\");\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.state = { phone: \"\", seen: false };\n  }\n\n  async handleSendOTP() {\n    this.modifyPhone();\n    // console.log(\"sending otp to \" + this.state.phone);\n    // let endPoint = \"https://2factor.in/API/V1/f3e5e9af-4bfb-11eb-8153-0200cd936042/SMS/\" + this.state.phone + \"/AUTOGEN\";\n    // await fetch(endPoint)\n    //     .then(res => res.json())\n    //     .then((data) => {\n    //       this.setState({ otpSentSessionId: data.Details })\n    //     })\n    //     .catch(console.log)\n    // console.log(\"otp sent sessionID >> \" + this.state.otpSentSessionId);\n    \n  }\n\n   checkExistingStudent(input) {\n    console.log(\"In checkExistingStudent...\")\n    let result = null;\n    let endPoint = \"http://localhost:8080/api/v1/Student/\" + input;\n     fetch(endPoint)\n        .then(res => {\n          if(!res.ok) {\n            console.log(\"No Student found with the number \" + input \n                + \" redirecting to new application!\");\n            routeChange();\n          } else {\n            console.log(\"Found an existing record with the number \" + input\n                + \" enrolled, fethcing record!\");\n\n            fetch(\"http://localhost:8080/api/v1/Student/\" + this.state.phone)\n                .then(resp => resp.json())\n                .then((data) => {\n                  console.log(\"Existing student details --> \" + JSON.stringify(data));\n                  this.setState({studentId: data.student_id});\n                })\n          }\n        }\n        ).catch(console.log);\n\n      // console.log(\"Student exists!\" + this.state.studentExists);\n      // if(!this.state.studentExists){\n      //   console.log(\"No student found, redirect to new application!\");\n      //   routeChange();\n      // } else {\n      //   console.log(\"Found student with ID -> \" + this.state.studentId);\n      // }\n  }\n\n   async verifyOTP(otpReceived) {\n    console.log(otpReceived);\n    let validMobile = false;\n    let endPoint = \"https://2factor.in/API/V1/f3e5e9af-4bfb-11eb-8153-0200cd936042/SMS/VERIFY/\" + this.state.otpSentSessionId + \"/\" + otpReceived;\n    await fetch(endPoint)\n        .then(res => {\n          console.log(\"otp verification >> \" + res.staus);\n          if(!res.ok) {\n                throw new Error(`HTTP error! status: ${res.status}`);\n            } else {\n                console.log(\"Status: OK\");\n                validMobile = true;\n            }           \n        })\n        .catch(console.log);\n    return validMobile;\n  }\n\n  state = {\n    phone: \"\",\n    seen: false,\n    otpEntered: \"\",\n    otpSentSessionId: \"\",\n    studentId: 0,\n    studentExists: false\n   };\n\n  handlePhone = (phone) => {\n    this.setState({phone: phone});  \n  }\n\n  modifyPhone = () => {\n    console.log(\"modifying Phone \" + this.state.phone);\n    let phoneEntered = this.state.phone;\n    let phoneArr = phoneEntered.split(\"+91\");\n    console.log(\"phone trimemd to \" + phoneArr[1]);\n    let phoneTrimmed = phoneArr[1];\n    this.setState({phone: phoneTrimmed});\n  }\n\n  // handleOTPEntered = (otpEntered) => {\n  //   console.log(\"otp entered by student \" + (this.state.otpEntered))\n  //   this.setState({otpEntered: otpEntered})\n  // }\n\n  \n\n  handleOTPSubmit = () => {\n    let studentExists = false;\n    let input = this.state.otpEntered;\n    // if(!this.verifyOTP(input)) {\n    //   console.log(\"OTP verification failed, Ask user to resend or use a different mobile number!\");\n    // } else {\n      console.log(\"verifying if the mobile number is already registered! \" + this.state.phone);\n      this.checkExistingStudent(this.state.phone);\n  // }\n  }\n\n  \n\n  // handleUserId = (event) => {    \n  //   this.setState({userId: event.target.value});  \n  // }\n\n  // handlePassword = (event) => {    \n  //   this.setState({password: event.target.value});  \n  // }\n\n  getPhone = () => {\n    return this.state.phone\n  }\n  \n  render() {\n  const { classes } = this.props;\n  return (\n\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        \n        {/* <form className={classes.form} noValidate> */}\n\n        <PhoneInput\n          defaultCountry=\"IN\"\n          value={this.state.phone}\n          placeholder=\"Enter phone number\"\n          onChange={this.handlePhone} />\n          \n        <div className=\"btn\">\n        <Popup\n          trigger={<button className=\"button\" onFocus={() => {this.handleSendOTP()}} > Sign In </button>} modal nested >\n            {\n\n              \n\nclose => (\n  <div className=\"modal\">\n    <button className=\"close\" onClick={close}>\n      &times;\n    </button>\n    <div className=\"header\"> Enter the OTP sent to your Mobile Number </div>\n    <div className=\"content\">\n      {' '}\n      <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            id=\"otpEntered\"\n            label=\"One Time Password\"\n            name=\"otpEntered\"\n            autoComplete=\"\"\n            defaultValue={this.state.otpEntered}\n            onChange={event => {\n              const { value } = event.target;\n              this.setState({ otpEntered: value });\n            }}\n            autoFocus\n          />\n    </div>\n    <div className=\"actions\">\n      <button\n        className=\"button\"\n        onClick={() => {\n          console.log('clicked submit');\n          this.handleOTPSubmit();\n        }}\n      >\n        Submit\n      </button>\n      <button\n        className=\"button\"\n        onClick={() => {\n          console.log('modal closed ');\n          close();\n        }}\n      >\n        Change Mobile Number\n      </button>\n    </div>\n  </div>\n)\n            }\n          </Popup>\n          </div>\n        </div>\n       <Box mt={8}>\n         <Copyright />\n       </Box>\n     </Container>\n  );\n }\n}\n\n// export default Login;\n\nexport default withStyles(useStyles, { withTheme: true })(Login);","/home/discovery/Documents/onlineapp/svuapp/frontend/src/reportWebVitals.js",[],["75","76"],"/home/discovery/Documents/onlineapp/svuapp/frontend/src/components/history.js",[],["77","78"],{"ruleId":"79","severity":1,"message":"80","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":26},{"ruleId":"79","severity":1,"message":"83","line":2,"column":8,"nodeType":"81","messageId":"82","endLine":2,"endColumn":12},{"ruleId":"79","severity":1,"message":"84","line":4,"column":10,"nodeType":"81","messageId":"82","endLine":4,"endColumn":16},{"ruleId":"79","severity":1,"message":"85","line":5,"column":25,"nodeType":"81","messageId":"82","endLine":5,"endColumn":29},{"ruleId":"79","severity":1,"message":"86","line":7,"column":8,"nodeType":"81","messageId":"82","endLine":7,"endColumn":13},{"ruleId":"79","severity":1,"message":"87","line":10,"column":9,"nodeType":"81","messageId":"82","endLine":10,"endColumn":19},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"79","severity":1,"message":"92","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":25},{"ruleId":"79","severity":1,"message":"93","line":2,"column":8,"nodeType":"81","messageId":"82","endLine":2,"endColumn":14},{"ruleId":"79","severity":1,"message":"94","line":7,"column":8,"nodeType":"81","messageId":"82","endLine":7,"endColumn":12},{"ruleId":"79","severity":1,"message":"95","line":8,"column":8,"nodeType":"81","messageId":"82","endLine":8,"endColumn":17},{"ruleId":"79","severity":1,"message":"96","line":13,"column":8,"nodeType":"81","messageId":"82","endLine":13,"endColumn":24},{"ruleId":"79","severity":1,"message":"97","line":14,"column":8,"nodeType":"81","messageId":"82","endLine":14,"endColumn":16},{"ruleId":"79","severity":1,"message":"98","line":15,"column":8,"nodeType":"81","messageId":"82","endLine":15,"endColumn":24},{"ruleId":"79","severity":1,"message":"99","line":54,"column":9,"nodeType":"81","messageId":"82","endLine":54,"endColumn":16},{"ruleId":"79","severity":1,"message":"100","line":61,"column":10,"nodeType":"81","messageId":"82","endLine":61,"endColumn":17},{"ruleId":"79","severity":1,"message":"101","line":64,"column":9,"nodeType":"81","messageId":"82","endLine":64,"endColumn":16},{"ruleId":"79","severity":1,"message":"102","line":64,"column":18,"nodeType":"81","messageId":"82","endLine":64,"endColumn":28},{"ruleId":"79","severity":1,"message":"103","line":68,"column":9,"nodeType":"81","messageId":"82","endLine":68,"endColumn":22},{"ruleId":"79","severity":1,"message":"104","line":76,"column":11,"nodeType":"81","messageId":"82","endLine":76,"endColumn":19},{"ruleId":"88","replacedBy":"105"},{"ruleId":"90","replacedBy":"106"},{"ruleId":"88","replacedBy":"107"},{"ruleId":"90","replacedBy":"108"},{"ruleId":"79","severity":1,"message":"92","line":1,"column":17,"nodeType":"81","messageId":"82","endLine":1,"endColumn":25},{"ruleId":"79","severity":1,"message":"109","line":6,"column":8,"nodeType":"81","messageId":"82","endLine":6,"endColumn":14},{"ruleId":"79","severity":1,"message":"94","line":10,"column":8,"nodeType":"81","messageId":"82","endLine":10,"endColumn":12},{"ruleId":"79","severity":1,"message":"95","line":11,"column":8,"nodeType":"81","messageId":"82","endLine":11,"endColumn":17},{"ruleId":"79","severity":1,"message":"97","line":17,"column":8,"nodeType":"81","messageId":"82","endLine":17,"endColumn":16},{"ruleId":"79","severity":1,"message":"98","line":18,"column":8,"nodeType":"81","messageId":"82","endLine":18,"endColumn":24},{"ruleId":"79","severity":1,"message":"110","line":19,"column":10,"nodeType":"81","messageId":"82","endLine":19,"endColumn":18},{"ruleId":"79","severity":1,"message":"111","line":22,"column":8,"nodeType":"81","messageId":"82","endLine":22,"endColumn":19},{"ruleId":"112","severity":1,"message":"113","line":66,"column":3,"nodeType":"114","messageId":"115","endLine":69,"endColumn":4},{"ruleId":"79","severity":1,"message":"116","line":87,"column":9,"nodeType":"81","messageId":"82","endLine":87,"endColumn":15},{"ruleId":"79","severity":1,"message":"117","line":166,"column":9,"nodeType":"81","messageId":"82","endLine":166,"endColumn":22},{"ruleId":"79","severity":1,"message":"118","line":167,"column":9,"nodeType":"81","messageId":"82","endLine":167,"endColumn":14},{"ruleId":"88","replacedBy":"119"},{"ruleId":"90","replacedBy":"120"},{"ruleId":"88","replacedBy":"121"},{"ruleId":"90","replacedBy":"122"},"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used.","'render' is defined but never used.","'Link' is defined but never used.","'Table' is defined but never used.","'withRouter' is defined but never used.","no-native-reassign",["123"],"no-negated-in-lhs",["124"],"'useState' is defined but never used.","'Avatar' is defined but never used.","'Grid' is defined but never used.","'GroupIcon' is defined but never used.","'LockOutlinedIcon' is defined but never used.","'Checkbox' is defined but never used.","'FormControlLabel' is defined but never used.","'history' is assigned a value but never used.","'enrolNo' is assigned a value but never used.","'message' is assigned a value but never used.","'setMessage' is assigned a value but never used.","'handleEnrolNo' is assigned a value but never used.","'response' is assigned a value but never used.",["123"],["124"],["123"],["124"],"'Button' is defined but never used.","'Redirect' is defined but never used.","'PhoneInput2' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'result' is assigned a value but never used.","'studentExists' is assigned a value but never used.","'input' is assigned a value but never used.",["123"],["124"],["123"],["124"],"no-global-assign","no-unsafe-negation"]